{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","filterWord","onChange","handleFilter","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","name","number","deletePerson","onClick","Persons","personsToShow","map","person","baseUrl","axios","get","then","response","data","newObject","post","id","delete","newPerson","put","Notification","message","style","className","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterWord","successfulStyle","borderRadius","padding","border","fontFamily","color","backgroundColor","marginBottom","failureStyle","notification","setNotification","useEffect","personService","initialPersons","filter","lowerCaseName","toLowerCase","lowerCaseFilter","indexOf","containFilter","event","target","preventDefault","personObject","indexFound","findIndex","element","window","confirm","returnedPerson","setTimeout","catch","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.85086ebd.chunk.js","sourcesContent":["import React from \"react\"\r\nconst Filter = (props) => {\r\n    return (\r\n      <div>filter shown with <input value = {props.filterWord} onChange = {props.handleFilter}/></div>\r\n    )\r\n  }\r\nexport default Filter","import React from \"react\"\r\nconst PersonForm = (props) => {\r\n    return (\r\n      <form onSubmit = {props.addPerson}>\r\n          <div>\r\n            name: <input value = {props.newName} onChange = {props.handleNameChange}/>\r\n          </div>\r\n          <div>number: <input value = {props.newNumber} onChange = {props.handleNumberChange}/></div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    )\r\n  }\r\nexport default PersonForm","import React from \"react\"\r\nconst Person = ({ name, number, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      {name} {number}\r\n      <button onClick={deletePerson}> delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nconst Persons = (props) => {\r\n  return (\r\n    <div>\r\n      {props.personsToShow.map(person =>\r\n        <Person\r\n          name={person.name}\r\n          number={person.number}\r\n          key={person.name}\r\n          deletePerson={() => props.deletePerson(person)}\r\n        />)\r\n      }\r\n    </div>\r\n  )\r\n}\r\nexport default Persons","import axios from \"axios\"\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request\r\n}\r\nconst update = (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\nexport default {\r\n    getAll, create, deletePerson, update\r\n}","import React, { useEffect, useState } from 'react'\nimport Filter from \"./components/Filter\"\nimport PersonForm from \"./components/PersonForm\"\nimport Persons from \"./components/Persons\"\nimport personService from \"./services/persons\"\nimport \"./App.css\"\n\nconst Notification = ({ message, style }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"notification\" style={style}>\n      {message}\n    </div>\n  )\n}\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterWord, setFilterWord] = useState('')\n  const successfulStyle = {\n    borderRadius: \"10px\",\n    padding: \"0.5rem\",\n    border: \"1px solid green\",\n    fontFamily: \"Arial, Helvetica, sans-serif\",\n    color: \"green\",\n    backgroundColor: \"antiquewhite\",\n    marginBottom: \"1rem\"\n  }\n  const failureStyle = {\n    borderRadius: \"10px\",\n    padding: \"0.5rem\",\n    border: \"1px solid red\",\n    fontFamily: \"Arial, Helvetica, sans-serif\",\n    color: \"red\",\n    backgroundColor: \"antiquewhite\",\n    marginBottom: \"1rem\"\n  }\n  const [notification, setNotification] = useState({ message: null, style: successfulStyle })\n\n  const hook = () => {\n    personService.getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }\n  useEffect(hook, [])\n\n  const addPerson = (event) => {\n    //prevent the submit from default handling of the form\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    const isEqual = (element) => element.name === newName\n    const indexFound = persons.findIndex(isEqual)\n    if (indexFound !== -1) {\n      const result = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one ? `)\n      if (result) {\n        let id = persons[indexFound].id\n        personService\n          .update(id, personObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n            setNotification({ message: \"Updated \" + returnedPerson.name, style: successfulStyle })\n\n            setTimeout(() => { setNotification({ message: null, style: successfulStyle }) }, 5000)\n          })\n          .catch(error => {\n            setNotification({\n              message: error.response.data.error,\n              style: failureStyle\n            })\n            setTimeout(() => { setNotification({ message: null, style: successfulStyle }) }, 5000)\n          })\n      }\n    } else {\n      personService.create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName(\"\")\n          setNewNumber(\"\")\n          setNotification({ message: \"Added \" + returnedPerson.name, style: successfulStyle })\n          setTimeout(() => { setNotification({ message: null, style: successfulStyle }) }, 5000)\n        })\n        .catch(error => {\n\n          setNotification({\n            message: error.response.data.error,\n            style: failureStyle\n          })\n          setTimeout(() => { setNotification({ message: null, style: successfulStyle }) }, 5000)\n        })\n    }\n\n\n\n  }\n\n  const deletePerson = (props) => {\n    const result = window.confirm(`Delete ${props.name} ?`)\n    if (!result) {\n      return\n    }\n\n    personService.deletePerson(props.id)\n      .then(response => {\n        setPersons(persons.filter(person => person.id !== props.id))\n        setNotification({ message: \"Deleted \" + props.name, style: successfulStyle })\n        setTimeout(() => { setNotification({ message: null, style: successfulStyle }) }, 3000)\n      })\n      .catch(error => {\n        setNotification({ message: \"Information of \" + props.name + \" has already been removed from the server.\", style: failureStyle })\n        setPersons(persons.filter(person => person.id !== props.id))\n        setTimeout(() => { setNotification({ message: null, style: failureStyle }) }, 3000)\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setFilterWord(event.target.value)\n  }\n  function containFilter(person, filter) {\n    let lowerCaseName = person.name.toLowerCase()\n    let lowerCaseFilter = filter.toLowerCase()\n    return lowerCaseName.indexOf(lowerCaseFilter) !== -1\n  }\n  const personsToShow = persons.filter(person => containFilter(person, filterWord))\n  //define the personsToShow to be a list of people to show, depending on the filter\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification.message} style={notification.style} />\n      <Filter filterWord={filterWord} handleFilter={handleFilter} />\n      <h3>add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons personsToShow={personsToShow} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}